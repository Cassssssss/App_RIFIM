{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{api}from'../services/api';import Header from'../components/Header';import{Edit,Trash2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ViewContent=()=>{const{systemId,locationId,contentId}=useParams();const navigate=useNavigate();const[content,setContent]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const loadContent=async()=>{try{const data=await api.getContent(contentId);setContent(data);}catch(error){console.error('Error loading content:',error);setError('Erreur lors du chargement de la fiche');}finally{setLoading(false);}};loadContent();},[contentId]);const handleEdit=()=>{navigate(`/system/${systemId}/location/${locationId}/content/${content.type}/edit/${contentId}`);};const handleDelete=async()=>{if(window.confirm('Voulez-vous vraiment supprimer cette fiche ?')){try{await api.deleteContent(contentId);navigate(`/system/${systemId}/location/${locationId}`);}catch(error){console.error('Erreur lors de la suppression:',error);setError('Erreur lors de la suppression de la fiche');}}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-[#f5f6f8] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-lg sm:text-xl text-gray-600\",children:\"Chargement...\"})});}if(error||!content){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-[#f5f6f8] flex items-center justify-center p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg text-sm sm:text-base\",children:error||'Fiche non trouvÃ©e'})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#f5f6f8]\",children:[/*#__PURE__*/_jsx(Header,{title:content.title,showBack:true}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(4rem+env(safe-area-inset-top))]\"}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,className:\"p-2 text-blue-500 hover:text-blue-700 transition-colors\",\"aria-label\":\"Modifier\",children:/*#__PURE__*/_jsx(Edit,{size:20})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"p-2 text-red-500 hover:text-red-700 transition-colors\",\"aria-label\":\"Supprimer\",children:/*#__PURE__*/_jsx(Trash2,{size:20})})]}),content.description&&/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700 prose prose-sm sm:prose-base lg:prose-lg max-w-none ql-editor\",dangerouslySetInnerHTML:{__html:content.description}}),content.images&&content.images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6\",children:content.images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.url,alt:image.caption||`Image ${index+1}`,className:\"w-full h-auto rounded-lg shadow-lg\",loading:\"lazy\"}),image.caption&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500 text-center\",children:image.caption})]},index))})]})}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        .ql-editor {\n          padding: 0;\n        }\n        .ql-editor h1 {\n          font-size: 1.75em;\n          font-weight: bold;\n          margin-bottom: 0.5em;\n          color: #2d3748;\n        }\n        .ql-editor h2 {\n          font-size: 1.5em;\n          font-weight: bold;\n          margin-bottom: 0.5em;\n          color: #2d3748;\n        }\n        .ql-editor p {\n          margin-bottom: 1em;\n          line-height: 1.6;\n        }\n        .ql-editor ul, .ql-editor ol {\n          margin-bottom: 1em;\n          padding-left: 1.5em;\n        }\n        .ql-editor ul li {\n          list-style-type: disc;\n          margin-bottom: 0.5em;\n        }\n        .ql-editor ol li {\n          list-style-type: decimal;\n          margin-bottom: 0.5em;\n        }\n        .ql-editor strong {\n          font-weight: 600;\n        }\n        .ql-editor em {\n          font-style: italic;\n        }\n        .ql-editor blockquote {\n          border-left: 4px solid #e2e8f0;\n          padding-left: 1em;\n          margin: 1em 0;\n          color: #4a5568;\n        }\n        @media (max-width: 640px) {\n          .ql-editor h1 {\n            font-size: 1.5em;\n          }\n          .ql-editor h2 {\n            font-size: 1.25em;\n          }\n        }\n      `})]});};export default ViewContent;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}